# WebbyLab_test
Тестове завдання для WebbyLab

## Запуск проекту
Оскільки була вимога щоб проект запускався через ***PHP local server*** - то вам треба виконати налаштування бд

Це може бути XAMPP/MAMP на локальній машині або зовнішній сервер з базою даних.
В ній створіть нову базу даних, в яку будуть розгортатись таблиці з цього тестового.

В файлі db.cfg.php вкажіть реквізити бази даних, ім'я таблиці та реквізити користувача, який зможе зчитувати та записувати данi:
**DB_HOST** - Сервер з MySQL
**DB_PORT** - Порт серверу з MySQL
**DB_NAME** - Назва сторенної бази даних
**DB_USER** - Логін користувача БД
**DB_PASS** - Пароль користувача БД

Після цього запустіть PHP сервер (наприклад, командою *php -S localhost:8000*) та перейдіть за шляхом (**ТУТ І ДАЛІ ШЛЯХИ БУДУТЬ ВІДНОСНИМИ, МАЄТЬСЯ НА УВАЗІ ЩО ВИ ЗНАЄ АДРЕСУ КОРНЮ**) */db_migrations/index.php*. Якщо побачите строку "Готово" - це означа що все ок, БД підключена та таблиці створились, але на всяк випадок перевірте це. (Якщо замість "Готово" ви побачили помилку - перевірте з'єднання з бд, бо на декількох незалежних одне від одного компа все запускалось)

## Frontend користування
*Дуже прискіпливо не перевіряйте як зроблений фронт, він там є остільки оскільки, щоб було як пощупати бек без інсомній. Та я впевнений, що на цьому тестовому ви бачили фронти і погірше.*

Авторизація - перейдіть в корінь (наприклад, http://localhost:8000) і вами з'явиться сторінка авторизації. Про реєстрацію в тестовому не було сказано, то я й не витрачав на це час, а захардкодив юзера в бд:
**E-mail:** serhii_bilohub@webbylab.com
**Пароль:** WebbyLabPass

Якщо невірно ввести E-mail та/або пароль - перейдете на сторінку з помилкою, але звідти теж можна авторизуватись.

Після успішної авторизації вас зустріне головна сторінка, но якій є меню зверху та більш нічого.

З меню можна:
1. Додати фільми (перша кнопка, можна додавати як один так і пачкою із файлу як в прикладі);
2. Фільтрувати фільми за назвою (працює співпадання навіть частки назви);
3. Фільтрувати фільми за іменами зірок (сюрпиз-сюрприз - також працює співпадання навіть частки імені);
4. Відсортувати фільми (неважливо - усі або які співпадают по назві та/або імені зірки) по алфавітному та хронологічному (в даному випадку просто по id) порядку;
5. Нахібась розлогінитись.

Коли ви додасте фільм - приблизно одразу ж на сторінці буде відображатись карточка з інформацією про нього (або декілька, якщо фільмів > 1).
В правому верхньому кутку кожної карточки є хрестик, натиснув на який можна (після підтверження) видалити фільм.

Наче усе.

## Backend користування
Якщо хочете перевірити як це працює, звертаючись напряму до сервера, через постман або інсомнію або ще щось, то ось міні документація:

**POST:** */api/index.php?action=login* - Авторизація. Очікує обов'язкові параметри *email* та *password*.

**POST:** */api/index.php?action=logout* - Деавторизація. Нічого не очікує.

**POST:** */api/index.php?action=upload_movies_list* - Завантаження фільмів через файл. Очікує обов'язковий параметр *file* в якому буде файл. Перевірялось на sample_movies.txt з прикладу, тобто на файлах з такою ж структурою будет працювати.

**POST:** */api/index.php?action=create_movie* - Створення одного фільму. Очікує обов'язкові параметри *title* - строка, назва фільму; *release_year* - число, рік випуску; *format* - строка, формат носія фільму (*VHS*, *DVD* або *Blu-Ray*, на інше буде лаятись); *stars* - строка, список зірок, відокремлених комою.

**GET:** */api/index.php?action=get_movies* - Отримання існуючого списку фільмів. Очікує необов'язкові параметри: *sort_type* - тип сортування відображення (може будет нiчого або *alphabetical*); *title* - частка назви фільму; *star_name* - частка імені зірки (доречі дивно що рік ніяк не використовується для фільтрації, наприклад повернути фільми які між он тим та цим роком). Повертає JSON з результатом того що ви нафільтрували.

**POST:** */api/index.php?action=delete_movie* - Видалення фільму. Очікує обов'язковий параметр *id*. Якщо фільм не знайдено - нічого страшно, помилку не видасть.

Наче усе.